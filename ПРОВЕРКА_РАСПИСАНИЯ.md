# üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

‚úÖ **–¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞**: `user_verification_schedule` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
‚úÖ **–ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω**: –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ `scheduled_user_verification()` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `main.py`
‚úÖ **–†–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã**: 2 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: –†–∞—Å–ø–∏—Å–∞–Ω–∏—è –ù–ï –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

## –ü—Ä–∏—á–∏–Ω–∞

Backend —Å–µ—Ä–≤–µ—Ä –±—ã–ª –∑–∞–ø—É—â–µ–Ω **–î–û** —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –∫–æ–¥ —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏. 
Uvicorn —Å —Ñ–ª–∞–≥–æ–º `--reload` –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–¥ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤, 
–Ω–æ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π backend

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω uvicorn –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
pkill -f uvicorn
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å backend –∑–∞–Ω–æ–≤–æ

```bash
cd /Users/s3s3s/Desktop/final\ word\ 2.6/backend
source venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
Started message cleanup task (every 60 minutes)
Started scheduled user verification task
```

### –®–∞–≥ 4: –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã

–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É (60 —Å–µ–∫—É–Ω–¥).

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

```bash
cd /Users/s3s3s/Desktop/final\ word\ 2.6/backend
source venv/bin/activate
python check_schedule_execution.py
```

## –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö backend

–ö–æ–≥–¥–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤—è—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:

```
Found 2 verification schedule(s) to run
Running verification schedule 1
Verification schedule 1 completed: 0 checked, 0 updated, 0 errors
Running verification schedule 2
Verification schedule 2 completed: 0 checked, 0 updated, 0 errors
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ API:

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
curl http://localhost:8000/api/v1/admin/verification-schedule/schedules

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
curl http://localhost:8000/api/v1/admin/verification-schedule/schedules/1
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 (–∏–ª–∏ –≤–∞—à frontend URL)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Å–µ–∫—Ü–∏–∏ "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é"
4. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ

## –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:

```bash
cd /Users/s3s3s/Desktop/final\ word\ 2.6/backend
source venv/bin/activate
python -c "
import asyncio
from app.core.database import async_session
from app.services.user_verification_schedule import VerificationScheduleService

async def delete_test():
    async with async_session() as db:
        service = VerificationScheduleService(db)
        await service.delete_schedule(1)
        await service.delete_schedule(2)
        print('‚úÖ Test schedules deleted')

asyncio.run(delete_test())
"
```

–ò–ª–∏ —á–µ—Ä–µ–∑ UI –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–£–¥–∞–ª–∏—Ç—å" —Ä—è–¥–æ–º —Å –∫–∞–∂–¥—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.
